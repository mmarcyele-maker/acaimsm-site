<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A√ßa√≠ Batido MSM</title>

<style>
body{margin:0;font-family:Arial,sans-serif;background:#f2f2f2}
header{background:linear-gradient(90deg,#6a00ff,#a100ff);color:#fff;padding:18px;text-align:center;font-size:22px;font-weight:bold}
.container{padding:15px}
.card{background:#fff;border-radius:15px;padding:15px;margin-bottom:20px;box-shadow:0 4px 12px rgba(0,0,0,.1)}
.card-conteudo{display:flex;gap:12px;align-items:center}
.card-conteudo img{width:120px;height:120px;object-fit:contain;border-radius:12px;border:2px solid #6a00ff}
.card-info{flex:1}
.preco{color:#6a00ff;font-weight:bold;font-size:18px}
.quantidade{display:flex;align-items:center;gap:10px;margin:8px 0}
.quantidade button{width:32px;height:32px;border:none;border-radius:50%;background:#6a00ff;color:#fff;font-size:18px;cursor:pointer}
.adicional{display:flex;justify-content:space-between;align-items:center;margin:6px 0}
.botao-add{background:linear-gradient(90deg,#6a00ff,#a100ff);color:#fff;border:none;padding:12px;width:100%;border-radius:10px;font-size:15px;cursor:pointer;margin-top:10px}

/* Carrinho */
#carrinhoIcon{position:fixed;bottom:20px;right:20px;background:#6a00ff;color:#fff;padding:15px;border-radius:50px;cursor:pointer}
#contador{background:red;border-radius:50%;padding:3px 7px;font-size:12px;margin-left:5px}
#carrinho{position:fixed;right:-100%;top:0;width:90%;height:100%;background:#fff;transition:.4s;padding:20px;overflow:auto;z-index:999}
#carrinho.ativo{right:0}
.item-carrinho{border-bottom:1px solid #ddd;padding:8px 0}
.remover{color:red;cursor:pointer;font-size:13px}
.total{font-weight:bold;font-size:18px;margin-top:10px}
input,select,textarea{width:100%;padding:10px;margin:6px 0 12px;border-radius:8px;border:1px solid #ccc}
textarea{resize:none}
</style>
</head>

<body>

<header>A√áA√ç BATIDO MSM</header>

<div class="container">

<!-- 300ml -->
<div class="card" data-nome="A√ßa√≠ 300ml" data-preco="14">
  <div class="card-conteudo">
    <img src="./1770533878737.png">
    <div class="card-info">
      <h3>300ml</h3>
      <div class="preco">R$ 14,00</div>
      <div class="quantidade">
        <button onclick="alterarQtd(this,-1)">‚àí</button>
        <span class="qtd">1</span>
        <button onclick="alterarQtd(this,1)">+</button>
      </div>
    </div>
  </div>

  <h4>Adicionais</h4>

  <div class="adicional" data-nome="Pa√ßoca" data-preco="2">
    <span>Pa√ßoca R$2,00</span>
    <div class="quantidade">
      <button onclick="alterarQtd(this,-1)">‚àí</button>
      <span class="qtd">0</span>
      <button onclick="alterarQtd(this,1)">+</button>
    </div>
  </div>

  <div class="adicional" data-nome="Leite em p√≥" data-preco="3">
    <span>Leite em p√≥ R$3,00</span>
    <div class="quantidade">
      <button onclick="alterarQtd(this,-1)">‚àí</button>
      <span class="qtd">0</span>
      <button onclick="alterarQtd(this,1)">+</button>
    </div>
  </div>

  <div class="adicional" data-nome="Leite condensado" data-preco="3">
    <span>Leite condensado R$3,00</span>
    <div class="quantidade">
      <button onclick="alterarQtd(this,-1)">‚àí</button>
      <span class="qtd">0</span>
      <button onclick="alterarQtd(this,1)">+</button>
    </div>
  </div>

  <button class="botao-add" onclick="adicionarCarrinho(this)">Adicionar</button>
</div>

<!-- 500ml -->
<div class="card" data-nome="A√ßa√≠ 500ml" data-preco="18">
  <div class="card-conteudo">
    <img src="./1770533878737.png">
    <div class="card-info">
      <h3>500ml</h3>
      <div class="preco">R$ 18,00</div>
      <div class="quantidade">
        <button onclick="alterarQtd(this,-1)">‚àí</button>
        <span class="qtd">1</span>
        <button onclick="alterarQtd(this,1)">+</button>
      </div>
    </div>
  </div>

  <h4>Adicionais</h4>

  <div class="adicional" data-nome="Pa√ßoca" data-preco="2">
    <span>Pa√ßoca R$2,00</span>
    <div class="quantidade">
      <button onclick="alterarQtd(this,-1)">‚àí</button>
      <span class="qtd">0</span>
      <button onclick="alterarQtd(this,1)">+</button>
    </div>
  </div>

  <div class="adicional" data-nome="Leite em p√≥" data-preco="3">
    <span>Leite em p√≥ R$3,00</span>
    <div class="quantidade">
      <button onclick="alterarQtd(this,-1)">‚àí</button>
      <span class="qtd">0</span>
      <button onclick="alterarQtd(this,1)">+</button>
    </div>
  </div>

  <div class="adicional" data-nome="Leite condensado" data-preco="3">
    <span>Leite condensado R$3,00</span>
    <div class="quantidade">
      <button onclick="alterarQtd(this,-1)">‚àí</button>
      <span class="qtd">0</span>
      <button onclick="alterarQtd(this,1)">+</button>
    </div>
  </div>

  <button class="botao-add" onclick="adicionarCarrinho(this)">Adicionar</button>
</div>

</div>

<!-- Carrinho -->
<div id="carrinho">
<h2>Seu Pedido</h2>

<input id="nomeCliente" placeholder="Nome">
<input id="enderecoCliente" placeholder="Endere√ßo (se entrega)">

<select id="tipoEntrega">
  <option value="">Forma de entrega</option>
  <option value="retirada">Retirada gr√°tis</option>
  <option value="jacira">Entrega Jardim Jacira (+R$4)</option>
</select>

<select id="pagamento">
  <option value="">Forma de pagamento</option>
  <option>Pix</option>
  <option>Dinheiro</option>
</select>

<input id="troco" placeholder="Troco para quanto? (se dinheiro)">
<textarea id="obs" placeholder="Observa√ß√µes do pedido"></textarea>

<div id="lista"></div>
<div class="total" id="total">Total: R$ 0,00</div>

<button onclick="finalizar()">Finalizar no WhatsApp</button><br><br>
<button onclick="fecharCarrinho()">Fechar</button>
</div>

<div id="carrinhoIcon" onclick="abrirCarrinho()">üõí <span id="contador">0</span></div>

<script>
let carrinho = [];
let total = 0;
let taxaEntrega = 0;
let carrinhoBox = document.getElementById("carrinho");

function alterarQtd(btn,v){
  let s=btn.parentElement.querySelector(".qtd");
  let n=parseInt(s.innerText)+v;
  if(n<0)n=0;
  s.innerText=n;
}

function adicionarCarrinho(b){
  let c=b.closest(".card");
  let nome=c.dataset.nome;
  let preco=+c.dataset.preco;
  let qtd=+c.querySelector(".card-info .qtd").innerText;
  if(!qtd)return;

  let adicionais=[], sub=qtd*preco;

  c.querySelectorAll(".adicional").forEach(a=>{
    let q=+a.querySelector(".qtd").innerText;
    let p=+a.dataset.preco;
    if(q){
      let totalAdd=q*qtd;
      sub+=totalAdd*p;
      adicionais.push(`${a.dataset.nome} x${totalAdd}`);
      a.querySelector(".qtd").innerText=0;
    }
  });

  carrinho.push({nome,qtd,adicionais,sub});
  total+=sub;
  c.querySelector(".card-info .qtd").innerText=1;
  atualizar();
}

function atualizar(){
  let l=document.getElementById("lista");
  l.innerHTML="";
  let itens=0;
  carrinho.forEach((i,n)=>{
    itens+=i.qtd;
    l.innerHTML+=`
      <div class="item-carrinho">
        <b>${i.nome} x${i.qtd}</b><br>
        ${i.adicionais.length? "Adicionais: "+i.adicionais.join(", ")+"<br>":""}
        R$ ${i.sub.toFixed(2)}<br>
        <span class="remover" onclick="remover(${n})">Remover</span>
      </div>`;
  });
  contador.innerText=itens;
  totalDiv.innerText="Total: R$ "+(total+taxaEntrega).toFixed(2);
}

function remover(i){
  total-=carrinho[i].sub;
  carrinho.splice(i,1);
  atualizar();
}

function abrirCarrinho(){
  atualizar();
  carrinhoBox.classList.add("ativo");
}

function fecharCarrinho(){
  carrinhoBox.classList.remove("ativo");
}

tipoEntrega.addEventListener("change",()=>{
  taxaEntrega = tipoEntrega.value==="jacira"?4:0;
  atualizar();
});

function finalizar(){
  if(!nomeCliente.value||!tipoEntrega.value||!pagamento.value){
    alert("Preencha nome, entrega e pagamento");
    return;
  }

  let msg=`üçß *Pedido A√ßa√≠ MSM*%0Aüë§ Cliente: ${nomeCliente.value}%0A`;

  if(tipoEntrega.value==="retirada"){
    msg+=`üìç Retirada: Rua √ârico Ver√≠ssimo 159%0A`;
  }else{
    msg+=`üè† Endere√ßo: ${enderecoCliente.value}%0Aüöö Entrega Jardim Jacira: R$ 4,00%0A`;
  }

  msg+=`%0Aüßæ *Itens:*%0A`;
  carrinho.forEach(i=>{
    msg+=`‚Ä¢ ${i.nome} x${i.qtd} ‚Äì R$ ${i.sub.toFixed(2)}%0A`;
    if(i.adicionais.length) msg+=`  ‚ûï ${i.adicionais.join(", ")}%0A`;
  });

  if(obs.value) msg+=`%0Aüìù Obs: ${obs.value}%0A`;
  if(pagamento.value==="Dinheiro"&&troco.value) msg+=`üíµ Troco para: ${troco.value}%0A`;

  msg+=`%0Aüí≥ Pagamento: ${pagamento.value}%0A`;
  msg+=`üí∞ *Total: R$ ${(total+taxaEntrega).toFixed(2)}*`;

  window.open("https://wa.me/5511943818352?text="+msg);
}
</script>

</body>
</html>
