<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A칞a칤 Batido MSM</title>

<style>
body{
  margin:0;
  font-family: 'Segoe UI', sans-serif;
  background:#f2f2f2;
}

header{
  background:linear-gradient(90deg,#5f00ff,#a100ff);
  color:white;
  padding:20px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
}

.container{
  padding:15px;
}

.card{
  background:white;
  border-radius:18px;
  padding:15px;
  margin-bottom:20px;
  box-shadow:0 4px 15px rgba(0,0,0,0.08);
  transition:0.3s;
}

.card:hover{
  transform:scale(1.02);
}

.produto-img{
  width:100%;
  height:220px;
  object-fit:cover;
  border-radius:16px;
}

.preco{
  color:#5f00ff;
  font-weight:bold;
  font-size:18px;
}

.adicionais label{
  display:block;
  margin-top:6px;
}

button{
  background:#5f00ff;
  color:white;
  border:none;
  padding:12px;
  width:100%;
  border-radius:12px;
  font-size:15px;
  margin-top:10px;
  cursor:pointer;
}

button:hover{
  background:#4500c7;
}

/* BOT츾O FLUTUANTE */
#btnCarrinho{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#5f00ff;
  color:white;
  border-radius:50px;
  padding:15px 20px;
  font-size:16px;
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
  cursor:pointer;
}

#contador{
  background:red;
  padding:3px 8px;
  border-radius:50%;
  font-size:12px;
  margin-left:5px;
}

/* CARRINHO LATERAL */
#carrinho{
  position:fixed;
  top:0;
  right:-100%;
  width:90%;
  max-width:400px;
  height:100%;
  background:white;
  box-shadow:-4px 0 15px rgba(0,0,0,0.2);
  padding:20px;
  transition:0.4s;
  overflow:auto;
}

#carrinho.ativo{
  right:0;
}

select, input{
  width:100%;
  padding:10px;
  margin-top:8px;
  border-radius:8px;
  border:1px solid #ccc;
}

#trocoCampo{
  display:none;
}

.total{
  font-weight:bold;
  margin-top:10px;
  font-size:18px;
}
</style>
</head>
<body>

<header>A칂A칈 BATIDO MSM</header>

<div class="container">

<!-- 300ML -->
<div class="card">
<img src="https://images.unsplash.com/photo-1625944193115-06d5f7cfc7b6?q=80&w=800&auto=format&fit=crop" class="produto-img">
<h3>300ml</h3>
<div class="preco">R$ 14,00</div>

<div class="adicionais">
<label><input type="checkbox" value="Pa칞oca" data-preco="2"> Pa칞oca R$2,00</label>
<label><input type="checkbox" value="Leite em p칩" data-preco="3"> Leite em p칩 R$3,00</label>
<label><input type="checkbox" value="Leite condensado" data-preco="2"> Leite condensado R$2,00</label>
</div>

<button onclick="adicionarCarrinho('300ml',14,this)">Adicionar</button>
</div>

<!-- 500ML -->
<div class="card">
<img src="https://images.unsplash.com/photo-1625944193115-06d5f7cfc7b6?q=80&w=800&auto=format&fit=crop" class="produto-img">
<h3>500ml</h3>
<div class="preco">R$ 18,00</div>

<div class="adicionais">
<label><input type="checkbox" value="Pa칞oca" data-preco="2"> Pa칞oca R$2,00</label>
<label><input type="checkbox" value="Leite em p칩" data-preco="3"> Leite em p칩 R$3,00</label>
<label><input type="checkbox" value="Leite condensado" data-preco="2"> Leite condensado R$2,00</label>
</div>

<button onclick="adicionarCarrinho('500ml',18,this)">Adicionar</button>
</div>

</div>

<!-- BOT츾O CARRINHO -->
<div id="btnCarrinho" onclick="abrirCarrinho()">
游 Carrinho <span id="contador">0</span>
</div>

<!-- CARRINHO -->
<div id="carrinho">
<h3>Seu Pedido</h3>
<div id="itens"></div>

<div class="total">Total: R$ <span id="total">0</span></div>

<label>Entrega:</label>
<select id="entrega" onchange="calcularTotal()">
<option value="0">Retirada no local</option>
<option value="4">Entrega Jardim Jacira (+4)</option>
</select>

<label>Pagamento:</label>
<select id="pagamento" onchange="mostrarTroco()">
<option>Pix</option>
<option>Dinheiro</option>
</select>

<div id="trocoCampo">
<label>Troco para quanto?</label>
<input type="number" id="troco">
</div>

<button onclick="enviarWhats()">Finalizar Pedido</button>
</div>

<script>
let carrinho = [];

function adicionarCarrinho(nome, preco, botao){
  let card = botao.parentElement;
  let adicionais = card.querySelectorAll("input:checked");
  let lista = [];
  let totalItem = preco;

  adicionais.forEach(a=>{
    lista.push(a.value);
    totalItem += parseFloat(a.dataset.preco);
  });

  carrinho.push({nome, lista, totalItem});
  atualizarCarrinho();

  adicionais.forEach(a=>a.checked=false);
}

function atualizarCarrinho(){
  let itensDiv = document.getElementById("itens");
  itensDiv.innerHTML="";
  let total=0;

  carrinho.forEach(item=>{
    itensDiv.innerHTML += `<p>${item.nome} - R$${item.totalItem}</p>`;
    total += item.totalItem;
  });

  document.getElementById("contador").innerText=carrinho.length;
  document.getElementById("total").innerText=total;
}

function abrirCarrinho(){
  document.getElementById("carrinho").classList.toggle("ativo");
}

function mostrarTroco(){
  let pagamento = document.getElementById("pagamento").value;
  document.getElementById("trocoCampo").style.display =
  pagamento==="Dinheiro" ? "block" : "none";
}

function calcularTotal(){
  atualizarCarrinho();
}

function enviarWhats(){
  let total = document.getElementById("total").innerText;
  let entrega = document.getElementById("entrega");
  let taxa = parseFloat(entrega.value);
  let tipoEntrega = entrega.options[entrega.selectedIndex].text;
  let pagamento = document.getElementById("pagamento").value;
  let troco = document.getElementById("troco").value;

  let mensagem="游꼖 *Pedido A칞a칤 Batido MSM*%0A%0A";

  carrinho.forEach(item=>{
    mensagem += item.nome + " - R$" + item.totalItem + "%0A";
    if(item.lista.length)
      mensagem += "Adicionais: "+ item.lista.join(", ")+"%0A";
    mensagem+="%0A";
  });

  let totalFinal = parseFloat(total) + taxa;

  mensagem += "Entrega: "+ tipoEntrega +"%0A";
  mensagem += "Total: R$"+ totalFinal +"%0A";
  mensagem += "Pagamento: "+ pagamento +"%0A";

  if(pagamento==="Dinheiro" && troco){
    mensagem += "Troco para: R$"+troco+"%0A";
  }

  mensagem += "%0A游늸 Rua 칄rico Ver칤ssimo 159";
  mensagem += "%0A游댐 Pix: 11943818352";

  window.open("https://wa.me/551194381832?text="+mensagem);
}
</script>

</body>
</html>
