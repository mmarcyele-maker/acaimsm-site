<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A√ßa√≠ Batido MSM</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#7b2cbf">

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(180deg,#3a0ca3,#7209b7);
color:white;
}

header{
padding:20px;
text-align:center;
font-size:22px;
font-weight:bold;
}

.produto{
background:#ffffff10;
margin:15px;
padding:15px;
border-radius:15px;
backdrop-filter:blur(10px);
}

button{
background:#ffbe0b;
border:none;
padding:10px;
border-radius:8px;
font-weight:bold;
cursor:pointer;
}

.carrinho-btn{
position:fixed;
bottom:20px;
right:20px;
background:#ff006e;
width:60px;
height:60px;
border-radius:50%;
color:white;
font-size:20px;
display:flex;
align-items:center;
justify-content:center;
box-shadow:0 5px 20px #00000080;
}

.carrinho{
position:fixed;
top:0;
right:-100%;
width:80%;
height:100%;
background:#240046;
transition:0.4s;
padding:20px;
overflow:auto;
}

.carrinho.aberto{
right:0;
}
</style>
</head>

<body>

<header>
<img src="icon-512.png" width="120"><br>
A√ßa√≠ Batido MSM
</header>

<div class="produto">
<h3>300ml - R$14</h3>
<button onclick="addCarrinho('300ml',14)">Adicionar</button>
</div>

<div class="produto">
<h3>500ml - R$18</h3>
<button onclick="addCarrinho('500ml',18)">Adicionar</button>
</div>

<div class="produto">
<h3>Adicionais</h3>
<button onclick="addCarrinho('Leite em p√≥',3)">+ Leite em p√≥ R$3</button><br><br>
<button onclick="addCarrinho('Leite condensado',2)">+ Leite condensado R$2</button><br><br>
<button onclick="addCarrinho('Pa√ßoca',2)">+ Pa√ßoca R$2</button>
</div>

<div class="carrinho-btn" onclick="abrirCarrinho()">üõí</div>

<div class="carrinho" id="carrinho">
<h2>Seu Pedido</h2>
<div id="lista"></div>
<h3 id="total"></h3>
<button onclick="enviar()">Enviar Pedido</button>
<button onclick="fecharCarrinho()">Fechar</button>
</div>

<script>
let carrinho=[];

function addCarrinho(nome,preco){
carrinho.push({nome,preco});
atualizar();
new Audio("https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg").play();
}

function atualizar(){
let lista=document.getElementById("lista");
lista.innerHTML="";
let total=0;
carrinho.forEach(item=>{
lista.innerHTML+=item.nome+" - R$"+item.preco+"<br>";
total+=item.preco;
});
document.getElementById("total").innerText="Total: R$"+total;
localStorage.setItem("pedido",JSON.stringify(carrinho));
}

function abrirCarrinho(){
document.getElementById("carrinho").classList.add("aberto");
}

function fecharCarrinho(){
document.getElementById("carrinho").classList.remove("aberto");
}

function enviar(){
let pedido="Pedido:%0A";
let total=0;
carrinho.forEach(item=>{
pedido+=item.nome+" - R$"+item.preco+"%0A";
total+=item.preco;
});
pedido+="Total: R$"+total;
window.open("https://wa.me/5511943818352?text="+pedido);
}

if(localStorage.getItem("pedido")){
carrinho=JSON.parse(localStorage.getItem("pedido"));
atualizar();
}

if('serviceWorker' in navigator){
navigator.serviceWorker.register('service-worker.js');
}
</script>

</body>
</html>
{
  "name": "A√ßa√≠ Batido MSM",
  "short_name": "A√ßa√≠ MSM",
  "start_url": "/acaimsm-site/",
  "display": "standalone",
  "background_color": "#3a0ca3",
  "theme_color": "#7209b7",
  "icons": [
    {
      "src": "icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
self.addEventListener('install',e=>{
e.waitUntil(
caches.open('acai-cache').then(cache=>{
return cache.addAll([
'/acaimsm-site/',
'/acaimsm-site/index.html',
'/acaimsm-site/icon-192.png',
'/acaimsm-site/icon-512.png'
]);
})
);
});

self.addEventListener('fetch',e=>{
e.respondWith(
caches.match(e.request).then(resp=>{
return resp || fetch(e.request);
})
);
});
